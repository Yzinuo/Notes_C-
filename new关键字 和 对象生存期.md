## 创造对象的两种方法：
最好用且最常用的是在栈上创建，能用则用。
```
Entity e;
```

在堆上创造：
```
Entity* e = new Entity();
```
new 会在堆上创建对象，返回堆上的地址。

这样创建对象的好处是 不要在意占有内存大小，可以控制对象生存周期。

坏处是，性能慢（new首先要在堆上搜寻到要求长度的内存，再返回地址），很危险，忘记delete就完蛋了。内存泄漏。cache miss.

## new关键字
new不仅仅分配了内存，它同时会调用构造函数。这是new和malloc的区别。会维护和记录一个内存空闲表。
其实new运行的时候，它是调用了malloc的。

new就是个操作符而已，和加减乘除差不多。

和new配套的是delete
```
int *b = new int[50]; 实际上，调用的是new[]关键字
                        所以要用delete[];
delete [] b;
Entity *e = new Entity();
delete e;
```

placement new
希望new在特定的内存空间内初始化变量。

## 对象生存期
我们代码中，每进入一个作用域，就是推进了一个栈帧。
作用域就像是书堆上的书，我们局部变量就是书上的文字，当我们结束这个作用域时，这个书被拿出来扔掉，自然书上的文字也没有了。